<!DOCTYPE html>
<html lang="en">
<head>
	<title>Unconfirmed Bitcoin Transaction Adjustment Tool</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="keywords" content="bitcoin, transaction, adjust, revert, address, browser, segwit, javascript, js" />
	<meta name="description" content="A tool generating !" />

	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://bootswatch.com/4/darkly/bootstrap.min.css">
	<!--link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"-->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
	<script src="main.js"></script>

	<style>
		body {
			font-family: "Lucida Console", Monaco, monospace;
		}

		a.anchor {
		    display: block;
		    position: relative;
		    top: -250px;
		    visibility: hidden;
		}

		#unconfirmedTXsTable {
			font-size: 13px !important;
		}

		ul {
			padding-inline-start: 20px !important;
		}
	</style>

	<script type="text/javascript" src="js/moment.min.js"></script>
	<script type="text/javascript" src="js/transition.js"></script>
	<script type="text/javascript" src="js/collapse.js"></script>

	<script type="text/javascript" src="js/crypto-min.js"></script>
	<script type="text/javascript" src="js/crypto-sha256.js"></script>
	<script type="text/javascript" src="js/crypto-sha256-hmac.js"></script>
	<script type="text/javascript" src="js/sha512.js"></script>
	<script type="text/javascript" src="js/ripemd160.js"></script>
	<script type="text/javascript" src="js/aes.js"></script>

	<script type="text/javascript" src="js/qrcode.js"></script>
	<script type="text/javascript" src="js/qcode-decoder.min.js"></script>
	<script type="text/javascript" src="js/jsbn.js"></script>
	<script type="text/javascript" src="js/ellipticcurve.js"></script>

	<script type="text/javascript" src="js/coin.js"></script>
	<script type="text/javascript" src="js/coinbin.js"></script>
</head>


<body onload="onLoad()">
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="https://pyzhyk.org/">UBTAT.PYZHYK.ORG</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarColor02">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#home">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Usage</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#about">About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#donate">Donate</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Resources</a>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">Something else here</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Separated link</a>
        </div>
      </li>
    </ul>
  </div>
</nav>

<div class="container" style="max-width: 75%; margin-top: 150px;">
	<a class="anchor" id="home"></a>
	<center><h2>Unconfirmed Bitcoin Transaction Adjustment Tool</h2></center>

	<a class="anchor" id="step1"></a>
	<div class="alert alert-dismissible alert-warning mt-4">
  		<strong>Attention!</strong> This is a beta version. Always check the transaction before signing and broadcasting.
  		<ul>
  			<li><a href="https://live.blockcypher.com/btc/decodetx/">BlockCypher - Decode A Transaction</a></li>
  			<li><a href="https://coinb.in/#verify">Coinb.in - Verify transactions and other scripts</a></li>
  		</ul>
	</div>

	<ul class="mt-5">
		<li>Firstly, search for unconfirmed transactions.<br>Enter your sending address and select the transaction you want to adjust:</li>
	</ul>
	<form onsubmit="event.preventDefault(); fetchTXs();" class="form-inline mt-1 ml-4">
		<div class="form-group mb-2">
		<input id="redeemFrom" class="form-control" type="text" name="redeemFrom" autocomplete="on" pattern="^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$" placeholder="Sending Address" required="" size="40" autofocus="" />
		</div>

		<div class="form-group mx-sm-3 mb-2">
		<button id="btn" class="btn btn-info">Submit</button>
		</div>
	</form>
	<div id="addressAlertBox"></div>

	<div id="unconfirmedTXsTableDiv" class="mt-4"></div>
	<div id="unconfirmedTXProperties"></div>

	<div id="newTXDiv" style="display: none;" class="mt-4">
		<h3>New transaction</h3>
		<form onsubmit="event.preventDefault(); genTX();" class="mt-1 ml-4">
			<div class="form-group mb-4">
				<h4>Recipient address</h4>
				<input id="newRecipientAddress" class="form-control" type="text" autocomplete="on" pattern="^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$" placeholder="Recipient address" required="" autofocus="" />
			</div>
			
			<div class="form-group mb-4">
				<h4>Fee</h4>
				<div class="alert alert-dismissible alert-secondary">
  				<strong>Attention!</strong> In order to outrun the old transaction, it is recommended to increase the fee several-fold.
				</div>
		      	<div class="form-inline">
		      		<div class="input-group-prepend">
        				<span class="input-group-text">BTC</span>
      				</div>
		      		<input type="text" class="form-control mr-2" id="newFeeBTCField" readonly="" required="" pattern="^[0-9\.]*$">
		      		<div class="input-group-prepend">
        				<span class="input-group-text">$</span>
      				</div>
		      		<input type="text" class="form-control" id="newFeeUSDField" readonly="">
		      	</div>
		      	<input type="range" class="custom-range" id="newFeeSlider" min="1" max="150">
		      	<div id="lowFeeAlertBox" style='display: none;' class="mt-3">
		      		<div class="alert alert-dismissible alert-danger">
  						<strong>Warning!</strong> In order to outrun the old transaction, the fee should be <b>higher than <span id="lowFeeAlertBox-OldFeeField"></span></b>.
					</div>
		      	</div>
	    	</div>
			<button id="btn" class="btn btn-info btn-lg btn-block">Generate</button>
		</form>


		<a class="anchor" id="doneTransaction"></a>
		<div id="newTransactionDiv" style="display: none;" class="mt-4">
			<h3>Transaction</h3>
			<p>The transaction below has been generated and encoded. It can be broadcasted once it has been signed. You can check its contents here: <a href="https://coinb.in/#verify">Coinb.in - Verify transactions and other scripts</a></p>
			<div class="alert alert-dark">
				<br>
				<textarea id="transactionHexField" class="form-control" style="height:150px" readonly=""></textarea>
				<p class="text-muted">Size: <span id="txSize">0</span> <i>bytes</i></p>
			</div>


			<div id="signDiv" class="mt-4">
				<h3>Signing the transaction</h3>
				<p>The transaction above should be signed and broadcasted in order to be accepted and outrun the old one. Below are the ways of doing it.</p>
				<ul>
					<li>If you have the private key of the address:
						<ul>
							<li>Use <a href="https://coinb.in/#sign">coinb.in signing tool</a> OR</li>
							<li>Sign it using your wallet (next is how to do it in Electrum)</li>
							<ul>
								<li>Tools -> Load transaction -> From text -> Load transaction -> Sign</li>
							</ul>
						</ul>
					</li>
					<li>
						If you <strong>don't</strong> have the private key of the address (e.g. using a hardware wallet):
						<ul>
							<li>Use suitable software</li>
						</ul>
					</li>
				</ul>
			</div>

			<div id="broadcastDiv" class="mt-4">
				<h3>Broadcasting the transaction</h3>
				<p>Once signed, the new transaction should be broadcasted in order to appear in mempool and be accepted. Below are suitable tools.</p>
				<ul>
					<li><a href="https://coinb.in/#broadcast">Coinb.in - Broadcast Transaction into the bitcoin network</a></li>
					<li><a href="https://www.blockchain.com/btc/pushtx">Blockchain.info - Broadcast Transaction</a></li>
				</ul>
				<p>Additionally, once a transaction has been broadcasted, it is possible to use a transaction accelerator in order to get faster confirmation. An example of such service is: <a href="https://bitaccelerate.com/">https://bitaccelerate.com</a>.</p>
			</div>
		</div>
	</div>
</div>
</body>
</html>